function refuel()
    if turtle.getFuelLevel() == 0 then
        while turtle.getItemCount(16) == 0 do
            clearScreen()
            print("Waiting for fuel, press enter when ready")
            read()
        end
        turtle.select(16)
        turtle.refuel(1)
        return true
    end
    return true
end

function makeTree()
  turtle.select(1)
  while turtle.getItemCount(1) == 0 do
    turtle.suckUp()
    sleep(1)
  end
  turtle.place()
end

function detectTree()
  turtle.select(15)
  while turtle.compare() == false do
    sleep(1)
  end
end

function cutTree()
  turtle.dig()
  refuel()
  turtle.forward()
  turtle.select(3)
  while turtle.detectUp() do
    turtle.digUp()
    refuel()
    turtle.up()
  end
  while not turtle.detectDown() do
    refuel()
    turtle.down()
  end
  refuel()
  turtle.back()
end

function depositWood()
  turtle.select(3)
  turtle.dropDown()
end

while turtle.getItemCount(1) > 0 and turtle.getItemCount(2) > 0 do
  makeTree()
  detectTree()
  cutTree()
  depositWood()
end